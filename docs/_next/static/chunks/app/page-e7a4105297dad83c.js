(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9329:function(e,t,l){Promise.resolve().then(l.bind(l,9505))},9505:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return A}});var s=l(3827),a=l(4090);let n=["Motivation & Problem Statement","Core Methodology","Key Findings","Implications & Future Work"];function i(e){return e.replace(/\s+/g," ").trim()}function r(e){return e.toLowerCase().split(" ").map(e=>0===e.length?e:e[0].toUpperCase()+e.slice(1)).join(" ")}function o(e){return e.replace(/^\d+(?:\.\d+)*\s+/,"")}function c(e){return o(e).toLowerCase().replace(/[^a-z0-9]/g,"")}function u(e){let t=new Set,l=[];for(let s of e){let e=s.toLowerCase();t.has(e)||(t.add(e),l.push(s))}return l}function d(e){return e.replace(/\r/g," ").split(RegExp("(?<=[.!?])\\s+(?=[A-Z0-9])")).map(e=>e.replace(/\s+/g," ").trim()).filter(e=>e.length>0)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160;if(e.length<=t)return e;let l=e.slice(0,t-1).replace(/[,:;\-\s]+$/g,"").trim();return"".concat(l,"…")}function h(e){return e.map(e=>p(e,160)).filter(e=>!(e.length<25||/\b(doi|copyright|license|creative commons|arxiv|email|www\.)/i.test(e)))}function m(e,t){var l;let s=null!==(l=e.pageLines[0])&&void 0!==l?l:[],a=function(e,t){for(let l of[t,...e].map(e=>i(null!=e?e:"")))if(!(!l||l.length<8||/^paper$/i.test(l)))return l;return"Untitled Research Paper"}(s,e.metadata.title),m=function(e,t){if(t&&t.length>0)return t;for(let t of e.slice(1,5)){let e=i(t);if(e&&/\b(conference|journal|symposium|workshop|university|college|laboratory|institute|department)\b/i.test(e))return e}}(s,e.metadata.subject),f=function(e,t){if(t&&t.length>=4)return t;for(let t of e.slice(1,6)){let e=i(t);if(e){if(/\b(author|by|student|advisor)\b/i.test(e))return e.replace(/^(author|by)[:\s]+/i,"").trim();if(/(,| and )/.test(e)&&e.split(/\s+/).length<=15)return e}}}(s,e.metadata.author),x=function(e){if(e.length>=3)return e.slice(0,8);let t=[...n];for(let l=e.length-1;l>=0&&t.length<8;l-=1)t.splice(1,0,e[l]);return t.slice(0,6)}(function(e){let t=[],l=new Set;for(let s of e){let e=i(s);if(!e)continue;let a=e.split(/\s+/).length,n=/^\d+(\.\d+)*\s+/.test(e),o=/(introduction|background|related work|method|approach|model|experiment|evaluation|result|discussion|conclusion|future work|summary)/i.test(e),c=a<=8&&!/[.!?]$/.test(e)&&e===r(e);if(a<=2||!(n||o||c))continue;let u=e.replace(/^\d+(\.\d+)*\s+/,"").replace(/[:;,.\-\s]+$/g,"").trim(),d=u.toLowerCase();if(!(!u||u.length<3||u.length>70||l.has(d))&&(l.add(d),t.push(r(u)),t.length>=12))break}return t}(e.pageLines.flat())),b=d(e.allText),g=h(b),{sectionBullets:v,abstractBullets:w,keywordBullets:y}=function(e,t){let l=new Map;t.forEach(e=>{let t=c(e);t.length>0&&!l.has(t)&&l.set(t,e)});let s=new Map,a=[],n=[],r=(e,t)=>{s.has(e)||s.set(e,[]),s.get(e).push(t)},h=null;for(let t of e.pageLines)for(let e of t){let t=i(e);if(!t)continue;let s=c(o(t));if("abstract"===s){h="Abstract";continue}if("keywords"===s){h="Keywords";continue}let u=l.get(s);if(!u&&s.length>0){for(let[e,t]of Array.from(l.entries()))if(s.startsWith(e)||e.startsWith(s)){u=t;break}}if(u){h=u;continue}if("Abstract"===h){a.push(t);continue}if("Keywords"===h){n.push(t);continue}h&&r(h,t)}let m=new Map;for(let[e,t]of Array.from(s.entries())){let l=u(d(t.join(" "))).map(e=>p(e,150)).filter(e=>e.length>20).slice(0,5);l.length>0&&m.set(e,l)}let f=a.length>0?u(d(a.join(" "))).map(e=>p(e,150)).filter(e=>e.length>20).slice(0,5):[],x="";if(n.length>0&&(x=n.join(" ")),!x&&e.pageLines[0])for(let t of e.pageLines[0]){let e=t.match(/keywords?[:\-]?\s*(.*)/i);if(e&&e[1]){x=e[1];break}}return{sectionBullets:m,abstractBullets:f,keywordBullets:x?x.split(/[,;•]/).map(e=>i(e)).filter(e=>e.length>2&&e.length<=60).slice(0,6):[]}}(e,x),j=function(e,t){let l=new Set,s=new Set,a=e=>{let t=i(e);t.length>1&&t.length<=80&&l.add(t)},n=e=>{e.split(/,|;| and /i).map(e=>i(e)).filter(e=>e.length>1&&e.length<=80&&!/@/.test(e)).forEach(e=>a(e))};t&&n(t);let r=e.slice(0,12),o=/(university|institute|department|school|laboratory|centre|center|college|academy)/i;for(let e of r){let t=i(e);if(!(!t||t.length>120||/abstract|keywords?/i.test(t)||/@/.test(t))){if(o.test(t)){s.add(t);continue}(/,| and |;/i.test(t)||/^[A-Z][A-Za-z\-\. ]{3,}$/.test(t))&&n(t)}}let c=[];return l.forEach(e=>c.push("Author: ".concat(e))),s.forEach(e=>c.push("Affiliation: ".concat(e))),c.slice(0,6)}(s,f),k=w.length>0?w.slice(0,5):h(b).slice(0,4),N=[];j.length>0&&N.push({id:"authors-slide",title:"作者与机构",section:"Introduction",subsection:"作者与机构",blocks:[{kind:"bullets",items:j}]}),y.length>0&&N.push({id:"keywords-slide",title:"关键术语",section:"Introduction",subsection:"关键术语",blocks:[{kind:"bullets",items:y}]}),k.length>0&&(N.push({id:"abstract-slide",title:"摘要概览",section:"Introduction",subsection:"摘要概览",blocks:[{kind:"bullets",items:k.slice(0,4)}]}),k.forEach(e=>{let t=g.findIndex(t=>t===e);t>=0&&g.splice(t,1)}));let P=Math.max(3,Math.min(t-2,15)),S=Math.max(1,P-1);N.length>S&&N.splice(S);let A=Math.max(0,S-N.length);for((x.length>0?x.slice(0,Math.min(x.length,A)):n.slice(0,A)).forEach((e,t)=>{var l;let s=null!==(l=v.get(e))&&void 0!==l?l:[],a=s.length>0?s.slice(0,4):function(e,t,l){let s=e.toLowerCase(),a=[],n=0;for(;n<t.length&&a.length<l;){if(t[n].toLowerCase().includes(s)){a.push(t.splice(n,1)[0]);continue}n+=1}return a.length<l&&a.push(...t.splice(0,Math.max(0,l-a.length))),a}(e,g,4),n=a.length>0?a.map(e=>p(e,150)):["(内容待补充)"];N.push({id:"section-".concat(t+1),title:e,section:e,subsection:e,blocks:[{kind:"bullets",items:n}]})});N.length<S&&g.length>0;){let e=g.splice(0,4);if(0===e.length)break;N.push({id:"filler-".concat(N.length+1),title:"更多要点",section:"Discussion",subsection:"更多要点",blocks:[{kind:"bullets",items:e}]})}for(;N.length<S;)N.push({id:"placeholder-".concat(N.length+1),title:"内容待补充",section:"Discussion",subsection:"内容待补充",blocks:[{kind:"bullets",items:["(手动补充关键要点)"]}]});let C=[...N,function(e){let t=e.filter(e=>e.length>20),l=[t[0],t[Math.floor(t.length/2)],t[t.length-1]].filter(Boolean).map(e=>p(e,140));return{id:"closing-slide",title:"Takeaways & Next Steps",section:"Conclusion",blocks:[{kind:"bullets",items:l.length>=2?l:["Revisit the problem, dataset, or theoretical gap addressed by the paper.","Summarize the proposed approach and why it matters.","Highlight the most important quantitative or qualitative results."]}]}}(b)];return C.length>P&&C.splice(P),{metadata:{paperTitle:a,paperSubtitle:m,authors:f,generatedAt:new Date().toISOString(),mode:"static",slideCount:C.length+2},outline:x,slides:C,sentences:b}}function f(e){return e.replace(/\s+/g," ").trim()}async function x(e){if(e instanceof ArrayBuffer)return e;if(e instanceof Uint8Array)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("function"==typeof e.arrayBuffer)return await e.arrayBuffer();throw Error("Unsupported PDF source input.")}async function b(e){var t,s,a,n,i;let r,o,c,u;let d=await x(e),p=new Uint8Array(d),h=await Promise.all([l.e(651),l.e(313)]).then(l.t.bind(l,6029,23));try{let e=function(){let e=window.__NEXT_DATA__;return e&&"string"==typeof e.assetPrefix&&e.assetPrefix.length>0?e.assetPrefix.replace(/\/$/,""):""}(),t=e?"".concat(e.replace(/\/$/,""),"/pdf.worker.min.js"):"./pdf.worker.min.js";h.GlobalWorkerOptions.workerSrc=t}catch(e){}let m=h.getDocument({data:p,disableWorker:"undefined"==typeof Worker,useSystemFonts:!0}),b=await m.promise,g=[];for(let e=1;e<=b.numPages;e+=1){let t=await b.getPage(e),l=await t.getTextContent(),s=[],a="";for(let e of l.items){if(!e||"string"!=typeof e.str)continue;let t=f(e.str);t&&(a=a?"".concat(a," ").concat(t):t,e.hasEOL&&(s.push(a.trim()),a=""))}a&&s.push(a.trim()),g.push(s)}try{let e=await b.getMetadata(),l=null!==(t=null==e?void 0:e.info)&&void 0!==t?t:{};r=f(null!==(s=l.Title)&&void 0!==s?s:""),o=f(null!==(a=l.Author)&&void 0!==a?a:""),c=f(null!==(n=l.Subject)&&void 0!==n?n:""),u=f(null!==(i=l.Keywords)&&void 0!==i?i:"")}catch(e){}await b.cleanup(),await b.destroy();let v=g.flat().join("\n");return{pageLines:g,allText:v,metadata:{title:r||void 0,author:o||void 0,subject:c||void 0,keywords:u||void 0}}}var g=l(1101),v=l.n(g);function w(e){let t={"\\":"\\textbackslash{}","{":"\\{","}":"\\}",$:"\\$","&":"\\&","#":"\\#","%":"\\%",_:"\\_","~":"\\textasciitilde{}","^":"\\textasciicircum{}"};return e.replace(/([\\{}$&#%_~^])/g,e=>t[e])}async function y(){let e=(function(){let e=window.__NEXT_DATA__;return e&&"string"==typeof e.assetPrefix&&e.assetPrefix.length>0?e.assetPrefix.replace(/\/$/,""):""})().replace(/\/$/,""),t=e?"".concat(e,"/templates/if-beamer"):"./templates/if-beamer",l=await fetch("".concat(t,"/manifest.json"));if(!l.ok)throw Error("Unable to load template manifest.");let s=await l.json(),a=[];if(Array.isArray(s.assets))for(let e of s.assets){let l=await fetch("".concat(t,"/").concat(e));if(!l.ok)throw Error("Unable to fetch template asset: ".concat(e));let s=await l.arrayBuffer();a.push({path:e,data:s})}return a}async function j(e){var t;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=m(await b(e),Math.max(8,Math.min(15,null!==(t=l.targetSlides)&&void 0!==t?t:12))),a={metadata:s.metadata,outline:s.outline,slides:s.slides,latexSource:""},n=function(e){var t,l,s;let a,n;let{metadata:i,outline:r,slides:o}=e,c=[],u=(null===(t=i.authors)||void 0===t?void 0:t.trim().length)?i.authors:"Automated Summary",d=(null===(l=i.paperSubtitle)||void 0===l?void 0:l.trim().length)?i.paperSubtitle:"Generated by Paper2PPT";if(c.push("\n% Auto-generated by Paper2PPT"),c.push("\\documentclass{if-beamer}"),c.push(""),c.push("\\title["+w((s=i.paperTitle).length<=60?s:"".concat(s.slice(0,57),"..."))+"]{"+"\\textbf{".concat(w(i.paperTitle),"}")+"}"),c.push("\\subtitle{"+w(d)+"}"),c.push("\\author[]{\\large \\negrito{"+w(u)+"}}"),c.push("\\institute[]{"),c.push("  \\small \\textit{Paper2PPT Auto-generated Deck} \\"),c.push("  \\textit{https://github.com/greyyy/Paper2PPT}"),c.push("}"),c.push("\\date{\\today}"),c.push("\\logo{"),c.push("  \\includegraphics[scale=.15, clip]{figuras/logoPPGCA.png}"),c.push("}"),c.push("\\subject{"+w(i.paperTitle)+"}"),c.push("\\graphicspath{{figuras/}}"),c.push(""),c.push("\\begin{document}"),c.push(""),c.push("\\begin{frame}"),c.push("  \\titlepage"),c.push("\\end{frame}"),c.push(""),c.push("\\begin{frame}{Agenda}"),r.length>0){for(let e of(c.push("  \\begin{itemize}"),r.slice(0,8)))c.push("    \\item "+w(e));c.push("  \\end{itemize}")}else c.push("  \\tableofcontents");for(let e of(c.push("\\end{frame}"),c.push(""),o))e.section&&e.section!==a&&(c.push("\\section{"+w(e.section)+"}"),c.push(""),a=e.section,n=void 0),e.subsection&&e.subsection!==n&&(c.push("\\subsection{"+w(e.subsection)+"}"),c.push(""),n=e.subsection),c.push(function(e){let t=["\\begin{frame}{".concat(w(e.title),"}")];for(let l of e.blocks)t.push(function(e){if("paragraph"===e.kind)return"".concat(w(e.text),"\\par");if("quote"===e.kind)return["\\begin{quote}",w(e.text),"\\end{quote}"].join("\n");let t=e.items.filter(e=>e.trim().length>0).map(e=>"  \\item ".concat(w(e.trim())));return 0===t.length&&t.push("  \\item (content placeholder)"),["\\begin{itemize}",...t,"\\end{itemize}"].join("\n")}(l));return e.notes&&t.push("\\note{".concat(w(e.notes),"}")),t.push("\\end{frame}"),t.join("\n")}(e)),c.push("");return c.push("\\end{document}\n"),c.join("\n")}({metadata:a.metadata,outline:a.outline,slides:a.slides});a.latexSource=n;let i=await y(),r=new(v());for(let e of(r.file("main.tex",n),i))r.file(e.path,e.data,{binary:!0});let o=a.metadata.paperTitle.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-{2,}/g,"-").replace(/^-|-$/g,"").slice(0,48)||"paper2ppt",c=new Date().toISOString().replace(/[:T]/g,"-").split(".")[0],u="Paper2PPT-".concat(o,"-").concat(c,".zip");return{deck:a,zipBlob:await r.generateAsync({type:"blob"}),zipFilename:u}}let k={openai:{label:"OpenAI / 兼容接口",defaultBaseUrl:"https://api.openai.com/v1",models:[{value:"gpt-4o",label:"gpt-4o (2024)"},{value:"gpt-4o-mini",label:"gpt-4o-mini (高性价比)"},{value:"gpt-4.1",label:"gpt-4.1"},{value:"gpt-4.1-mini",label:"gpt-4.1-mini"},{value:"o1",label:"o1 (推理)"},{value:"o1-mini",label:"o1-mini"}]},anthropic:{label:"Anthropic Claude",defaultBaseUrl:"https://api.anthropic.com/v1",models:[{value:"claude-3.5-sonnet-20240620",label:"Claude 3.5 Sonnet (2024-06-20)"},{value:"claude-3.5-haiku-20240620",label:"Claude 3.5 Haiku (2024-06-20)"},{value:"claude-3-opus-20240229",label:"Claude 3 Opus (2024-02-29)"},{value:"claude-3-sonnet-20240229",label:"Claude 3 Sonnet (2024-02-29)"}],helper:"Anthropic 需传 x-api-key 且会自动添加 anthropic-version: 2023-06-01"},azure:{label:"Azure OpenAI",defaultBaseUrl:"https://{your-resource-name}.openai.azure.com/openai",models:[{value:"gpt-4o",label:"gpt-4o (deployment name)"},{value:"gpt-4o-mini",label:"gpt-4o-mini"},{value:"gpt-35-turbo",label:"gpt-35-turbo"}],helper:"Azure 需在 Base URL 中包含资源名，并在 URL 查询参数附加 api-version"},deepseek:{label:"DeepSeek",defaultBaseUrl:"https://api.deepseek.com/v1",models:[{value:"deepseek-chat",label:"deepseek-chat (对话)"},{value:"deepseek-reasoner",label:"deepseek-reasoner (推理)"}]},custom:{label:"自定义兼容接口",models:[],helper:"完全自定义的 OpenAI-Compatible 服务，可自由填写 Base URL 与模型名"}},N="rounded-3xl border border-white/60 bg-white/90 p-6 shadow-[0_28px_60px_-30px_rgba(30,41,59,0.45)] backdrop-blur-xl",P=["static"];function S(e,t){let[l,s]=(0,a.useState)(()=>{var l;return null!==(l=window.localStorage.getItem(e))&&void 0!==l?l:t});return(0,a.useEffect)(()=>{window.localStorage.setItem(e,l)},[e,l]),[l,s]}function A(){var e,t,l;let[n,i]=(0,a.useState)("static"),[r,o]=(0,a.useState)(null),[c,u]=(0,a.useState)(12),[d,p]=(0,a.useState)("openai"),[h,f]=(0,a.useState)(null!==(t=null===(e=k.openai.models[0])||void 0===e?void 0:e.value)&&void 0!==t?t:""),[x,g]=(0,a.useState)(0===k.openai.models.length),[v,w]=S("paper2ppt-api-key",""),[y,A]=S("paper2ppt-api-base","https://api.openai.com/v1"),[C,L]=S("paper2ppt-custom-prompt",'Structure the deck into the following thematic order and only create additional slides when strictly necessary:\n1. Motivation\n2. Method\n3. Experiments\n4. Results\n5. Discussion\n6. Conclusion\n\nWhen producing the JSON response:\n- Set the "section" field to one of the headings above in the same order.\n- For every slide provide a "subsection" string; this will become a LaTeX \\subsection{}.\n- Each slide must contain 4–6 bullet points that capture concrete technical details (datasets, metrics, numerical values, qualitative observations, limitations, implications, etc.).\n- Bullets should be declarative sentences under 26 words, without trailing punctuation or numbering, and use active voice.\n- Define new terminology or abbreviations the first time they appear.\n- Add up to 3 sentences of speaker notes when they help explain transitions or interpret results.\n- Respect the requested slide count exactly (excluding title and agenda frames). If information is sparse, merge concepts rather than invent content.\n- Prefer plain text. Use inline LaTeX math $...$ only when formulas or symbols are essential.\n- Highlight limitations or future work explicitly in the Discussion slide and summarise actionable insights in the Conclusion slide.\n'),[_,U]=(0,a.useState)(!1),[T,B]=(0,a.useState)(""),[E,D]=(0,a.useState)(null),[M,O]=(0,a.useState)(null),[I,R]=(0,a.useState)(null),[z,F]=(0,a.useState)("Paper2PPT.zip");(0,a.useEffect)(()=>()=>{I&&URL.revokeObjectURL(I)},[I]),(0,a.useEffect)(()=>{let e=k[d];if(e.models.length>0){var t,l;g(!1),f(null!==(l=null===(t=e.models[0])||void 0===t?void 0:t.value)&&void 0!==l?l:"")}else g(!0),f("");"string"==typeof e.defaultBaseUrl&&A(e.defaultBaseUrl)},[d,A]);let $=k[d],q=(0,a.useMemo)(()=>{var e;return null!==(e=null==M?void 0:M.outline)&&void 0!==e?e:[]},[M]),W=(0,a.useCallback)(e=>{var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];if(l){if("application/pdf"!==l.type){D("请上传 PDF 文件。");return}o(l),D(null)}},[]),G=(0,a.useCallback)(async()=>{if(!r){D("请先选择一份论文 PDF。");return}U(!0),B("解析 PDF 并生成初稿…"),D(null);try{let{deck:e,zipBlob:t,zipFilename:l}=await j(r,{targetSlides:c});O(e),I&&URL.revokeObjectURL(I);let s=URL.createObjectURL(t);R(s),F(l),B("生成完成，可下载 ZIP 或进一步编辑。")}catch(e){console.error(e),D(e instanceof Error?e.message:"静态生成失败，请稍后再试。")}finally{U(!1)}},[r,c,I]),H=(0,a.useCallback)(async()=>{if(!r){D("请先选择一份论文 PDF。");return}if(!v.trim()){D("请输入有效的大模型 API Key。");return}if(!h.trim()){D("请选择或填写模型名称。");return}if(!y.trim()){D("请填写 API Base URL。");return}U(!0),B("解析 PDF 并准备上下文…"),D(null);try{var e;let t=await b(r),l=m(t,c),s=JSON.stringify(l);O({metadata:l.metadata,outline:l.outline,slides:l.slides,latexSource:""});let a=new FormData;a.append("mode","llm"),a.append("provider",d),a.append("model",h),a.append("apiBaseUrl",y),a.append("targetSlides",String(c)),a.append("file",r),a.append("baseline",s),a.append("prompt",C),B("调用大模型生成摘要与幻灯片结构…");let n=await fetch("/api/generate",{method:"POST",headers:{Authorization:"Bearer ".concat(v.trim())},body:a});if(!n.ok){let e=await n.text();throw Error(e||"服务端生成失败，请稍后再试。")}let i=await n.json();i.deck&&O(i.deck),I&&URL.revokeObjectURL(I);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/zip",l=atob(e),s=l.length,a=new Uint8Array(s);for(let e=0;e<s;e+=1)a[e]=l.charCodeAt(e);return new Blob([a],{type:t})}(i.zipBase64),u=URL.createObjectURL(o);R(u),F(null!==(e=i.filename)&&void 0!==e?e:"Paper2PPT-".concat(Date.now(),".zip")),B("生成完成，可下载 ZIP。")}catch(e){console.error(e),D(e instanceof Error?e.message:"调用大模型失败，请检查参数。")}finally{U(!1)}},[r,v,d,h,y,c,C,I]),K=(0,a.useCallback)(e=>{let t=e.target.value;if("__custom__"===t){g(!0),f("");return}g(!1),f(t)},[]),Z=(0,a.useCallback)(async()=>{"static"===n?await G():await H()},[n,G,H]),X=I?(0,s.jsx)("a",{href:I,download:z,className:"inline-flex items-center justify-center rounded-full bg-slate-900 px-5 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-slate-700",children:"下载 ZIP"}):null;return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("section",{className:"".concat(N," space-y-6"),children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsx)("div",{className:"flex gap-2 rounded-full bg-slate-100 p-1 text-sm font-semibold",children:P.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>i(e),className:"rounded-full px-4 py-1 transition ".concat(n===e?"bg-white text-slate-900 shadow-inner":"text-slate-500"),children:"static"===e?"静态生成（离线可用）":"LLM 驱动（高质量）"},e))}),(0,s.jsx)("span",{className:"rounded-full bg-slate-200 px-3 py-1 text-xs text-slate-600",children:"GitHub Pages 版本仅提供静态生成，如需调用大模型请在本地运行。"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"静态版：浏览器内解析"]}),!1,(0,s.jsx)("a",{href:"https://github.com/Greyyy-HJC/Paper2PPT",target:"_blank",rel:"noreferrer",className:"inline-flex items-center rounded-full border border-slate-200 px-2 py-1 font-medium text-slate-500 transition hover:border-slate-300 hover:text-slate-700",children:"GitHub 仓库"})]})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1.4fr_1fr]",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("label",{htmlFor:"pdf-upload",className:"block cursor-pointer rounded-2xl border border-dashed border-slate-300 bg-white/70 p-8 text-center transition hover:border-slate-400 hover:bg-white",children:[(0,s.jsx)("input",{id:"pdf-upload",type:"file",accept:"application/pdf",className:"hidden",onChange:W}),(0,s.jsx)("p",{className:"text-base font-medium text-slate-800",children:r?r.name:"点击上传论文 PDF"}),(0,s.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"文件仅在浏览器中处理，不会上传至服务器（除非启用 LLM 模式）。"})]}),(0,s.jsxs)("div",{className:"rounded-2xl bg-slate-50 p-4",children:[(0,s.jsxs)("label",{className:"flex items-center justify-between text-sm text-slate-600",children:[(0,s.jsx)("span",{children:"目标幻灯片页数"}),(0,s.jsx)("span",{className:"font-semibold text-slate-900",children:c})]}),(0,s.jsx)("input",{type:"range",min:8,max:18,value:c,onChange:e=>u(Number(e.target.value)),className:"mt-3 w-full"})]})]}),(0,s.jsx)("div",{className:"space-y-4 rounded-2xl bg-slate-50 p-4",children:"llm"===n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("label",{className:"block space-y-2 text-sm text-slate-600",children:[(0,s.jsx)("span",{children:"模型服务提供商"}),(0,s.jsx)("select",{value:d,onChange:e=>p(e.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-slate-400 focus:outline-none",children:Object.entries(k).map(e=>{let[t,l]=e;return(0,s.jsx)("option",{value:t,children:l.label},t)})}),$.helper&&(0,s.jsx)("span",{className:"block text-xs text-slate-400",children:$.helper})]}),(0,s.jsxs)("label",{className:"block space-y-2 text-sm text-slate-600",children:[(0,s.jsx)("span",{children:"API Key"}),(0,s.jsx)("input",{type:"password",value:v,onChange:e=>w(e.target.value),placeholder:"sk-...",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-slate-400 focus:outline-none"}),(0,s.jsx)("span",{className:"text-xs text-slate-400",children:"保存在浏览器 LocalStorage，仅用于当前机器。"})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm text-slate-600",children:[(0,s.jsx)("span",{className:"block",children:"模型"}),$.models.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("select",{value:x?"__custom__":h,onChange:K,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-slate-400 focus:outline-none",children:[$.models.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value)),(0,s.jsx)("option",{value:"__custom__",children:"自定义模型…"})]}),x&&(0,s.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"输入自定义模型名称",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-slate-400 focus:outline-none"})]}):(0,s.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"输入模型名称",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-slate-400 focus:outline-none"})]}),(0,s.jsxs)("label",{className:"block space-y-2 text-sm text-slate-600",children:[(0,s.jsx)("span",{children:"API Base URL"}),(0,s.jsx)("input",{type:"text",value:y,onChange:e=>A(e.target.value),placeholder:null!==(l=$.defaultBaseUrl)&&void 0!==l?l:"https://...",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-slate-400 focus:outline-none"})]}),(0,s.jsxs)("label",{className:"block space-y-2 text-sm text-slate-600",children:[(0,s.jsx)("span",{children:"提示词（可选）"}),(0,s.jsx)("textarea",{value:C,onChange:e=>L(e.target.value),rows:6,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-slate-400 focus:outline-none font-mono"}),(0,s.jsx)("span",{className:"block text-xs text-slate-400",children:"默认提示词会引导模型解释概念、覆盖方法与结果，你也可以在此基础上追加或修改要求。"})]})]}):(0,s.jsxs)("div",{className:"space-y-2 text-sm text-slate-600",children:[(0,s.jsx)("p",{className:"font-semibold text-slate-800",children:"静态生成说明"}),(0,s.jsxs)("ul",{className:"list-disc space-y-1 pl-5 text-xs text-slate-500",children:[(0,s.jsx)("li",{children:"直接在浏览器中解析 PDF，提取标题、章节与要点。"}),(0,s.jsx)("li",{children:"按照 IF-Beamer 模版生成 LaTeX 文件并打包。"}),(0,s.jsx)("li",{children:"生成的内容适合作为初稿，可手动进一步润色。"})]})]})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:Z,disabled:_,className:"inline-flex items-center justify-center rounded-full bg-blue-600 px-6 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-blue-500 disabled:cursor-not-allowed disabled:bg-blue-300",children:_?"生成中…":"static"===n?"生成静态幻灯片":"调用 LLM 生成"}),X,T&&(0,s.jsx)("p",{className:"text-xs text-slate-500",children:T})]}),E&&(0,s.jsx)("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-600",children:E})]}),M&&(0,s.jsxs)("section",{className:"".concat(N," space-y-6"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"生成概要"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-slate-500",children:M.metadata.paperTitle}),M.metadata.authors&&(0,s.jsx)("p",{className:"text-xs text-slate-400",children:M.metadata.authors})]}),q.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-slate-700",children:"Outline"}),(0,s.jsx)("ul",{className:"mt-2 grid gap-2 text-sm text-slate-600 sm:grid-cols-2",children:q.map((e,t)=>(0,s.jsxs)("li",{className:"rounded-xl bg-slate-100 px-3 py-2",children:[t+1,". ",e]},e+t))})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-slate-700",children:"Slides Preview"}),(0,s.jsx)("div",{className:"grid gap-3 md:grid-cols-2",children:M.slides.map(e=>(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 text-sm text-slate-600 shadow-sm",children:[(0,s.jsx)("p",{className:"font-semibold text-slate-800",children:e.title}),e.section&&(0,s.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:e.section}),(0,s.jsx)("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:e.blocks.filter(e=>"bullets"===e.kind).flatMap(e=>"bullets"===e.kind?e.items:[]).slice(0,4).map((t,l)=>(0,s.jsx)("li",{children:t},"".concat(e.id,"-").concat(l)))})]},e.id))})]})]})]})}}},function(e){e.O(0,[701,565,249,971,69,744],function(){return e(e.s=9329)}),_N_E=e.O()}]);